<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GuildCertified - Discord Server Reviews</title>
    <link rel="stylesheet" href="styles/main.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1><i class="fab fa-discord"></i> GuildCertified</h1>
            </div>
            <nav class="nav">
                <a href="#home" class="nav-link active">Home</a>
                <a href="#servers" class="nav-link">Browse Servers</a>
                <div class="nav-auth" id="nav-auth-logged-out">
                    <button id="login-btn" class="btn btn-outline">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                </div>
                <div class="nav-auth" id="nav-auth-logged-in" style="display: none;">
                    <a href="dashboard.html" class="nav-link">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a>
                    <div class="user-menu">
                        <img id="user-avatar" class="user-avatar" src="" alt="User Avatar">
                        <span id="user-name">User</span>
                        <div class="dropdown-menu">
                            <a href="profile.html">My Profile</a>
                            <a href="#" id="setup-server-btn"><i class="fas fa-server"></i> Set Server Up</a>
                            <a href="#settings">Settings</a>
                            <a href="#" id="logout-btn">Logout</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Find the Best Discord Servers</h1>
                <p>Discover, review, and rate Discord servers based on real user experiences</p>
                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="Search for Discord servers...">
                    <button id="search-btn"><i class="fas fa-search"></i></button>
                </div>
            </div>
            <div class="stats">
                <div class="stat">
                    <span class="stat-number" id="total-servers">0</span>
                    <span class="stat-label">Servers Listed</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="total-reviews">0</span>
                    <span class="stat-label">Reviews Written</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="avg-rating">0.0</span>
                    <span class="stat-label">Average Rating</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Filters Section -->
    <section class="filters" id="servers">
        <div class="container">
            <h2>Browse Discord Servers</h2>
            <div class="filter-controls">
                <select id="category-filter">
                    <option value="">All Categories</option>
                    <option value="gaming">Gaming</option>
                    <option value="art">Art & Design</option>
                    <option value="music">Music</option>
                    <option value="education">Education</option>
                    <option value="community">Community</option>
                    <option value="technology">Technology</option>
                    <option value="entertainment">Entertainment</option>
                </select>
                <select id="rating-filter">
                    <option value="">All Ratings</option>
                    <option value="5">5 Stars</option>
                    <option value="4">4+ Stars</option>
                    <option value="3">3+ Stars</option>
                    <option value="2">2+ Stars</option>
                    <option value="1">1+ Stars</option>
                </select>
                <select id="sort-by">
                    <option value="rating">Sort by Rating</option>
                    <option value="newest">Newest First</option>
                    <option value="oldest">Oldest First</option>
                    <option value="reviews">Most Reviews</option>
                </select>
            </div>
        </div>
    </section>

    <!-- Server Listings -->
    <section class="server-grid" id="server-grid">
        <div class="container">
            <div id="servers-container" class="servers-grid">
                <!-- Server cards will be dynamically loaded here -->
            </div>
            <div id="loading" class="loading">
                <i class="fas fa-spinner fa-spin"></i> Loading servers...
            </div>
            <div id="no-results" class="no-results" style="display: none;">
                <i class="fas fa-search"></i>
                <h3>No servers found</h3>
                <p>Try adjusting your search criteria or filters</p>
            </div>
        </div>
    </section>

    <!-- Add Server Modal -->
    <div id="add-server-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Add a Discord Server</h2>
            <form id="add-server-form">
                <div class="form-group">
                    <label for="server-name">Server Name</label>
                    <input type="text" id="server-name" required>
                </div>
                <div class="form-group">
                    <label for="server-description">Description</label>
                    <textarea id="server-description" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="server-category">Category</label>
                    <select id="server-category" required>
                        <option value="">Select Category</option>
                        <option value="gaming">Gaming</option>
                        <option value="art">Art & Design</option>
                        <option value="music">Music</option>
                        <option value="education">Education</option>
                        <option value="community">Community</option>
                        <option value="technology">Technology</option>
                        <option value="entertainment">Entertainment</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="server-invite">Invite Link</label>
                    <input type="url" id="server-invite" placeholder="https://discord.gg/..." required>
                </div>
                <div class="form-group">
                    <label for="server-tags">Tags (comma separated)</label>
                    <input type="text" id="server-tags" placeholder="friendly, active, 24/7">
                </div>
                <button type="submit" class="btn-primary">Add Server</button>
            </form>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Sign In to GuildCertified</h2>
            <p class="modal-subtitle">Choose your preferred sign-in method</p>
            
            <div class="oauth-buttons">
                <button id="discord-login" class="btn btn-oauth discord">
                    <i class="fab fa-discord"></i> Continue with Discord
                </button>
                <p class="discord-only-note">
                    <i class="fas fa-info-circle"></i>
                    Discord authentication required to join GuildCertified
                </p>
            </div>
            
            <div class="login-footer">
                <p>By signing in, you agree to our Terms of Service and Privacy Policy</p>
            </div>
        </div>
    </div>

    <!-- Profile Setup Modal -->
    <div id="profile-setup-modal" class="modal">
        <div class="modal-content large">
            <h2>Welcome to GuildCertified! ðŸŽ‰</h2>
            <p class="modal-subtitle">Let's set up your profile to get started</p>
            
            <form id="profile-setup-form">
                <div class="setup-step active" data-step="1">
                    <h3>What best describes you?</h3>
                    <div class="profile-type-grid">
                        <div class="profile-type-card" data-type="discord-server">
                            <i class="fab fa-discord"></i>
                            <h4>Discord Server</h4>
                            <p>I own or manage a Discord server</p>
                        </div>
                        <div class="profile-type-card" data-type="company">
                            <i class="fas fa-building"></i>
                            <h4>Company</h4>
                            <p>I represent a business or organization</p>
                        </div>
                        <div class="profile-type-card" data-type="store">
                            <i class="fas fa-store"></i>
                            <h4>Store/Shop</h4>
                            <p>I run an online or physical store</p>
                        </div>
                        <div class="profile-type-card" data-type="dev-studio">
                            <i class="fas fa-code"></i>
                            <h4>Development Studio</h4>
                            <p>I'm part of a game/software development team</p>
                        </div>
                        <div class="profile-type-card" data-type="content-creator">
                            <i class="fas fa-video"></i>
                            <h4>Content Creator</h4>
                            <p>I create content (YouTube, Twitch, etc.)</p>
                        </div>
                        <div class="profile-type-card" data-type="individual">
                            <i class="fas fa-user"></i>
                            <h4>Individual</h4>
                            <p>I'm just here to review and discover</p>
                        </div>
                    </div>
                </div>

                <div class="setup-step" data-step="2">
                    <h3>Tell us about yourself</h3>
                    <div class="form-group">
                        <label for="profile-name">Display Name</label>
                        <input type="text" id="profile-name" required placeholder="Your name or brand name">
                    </div>
                    <div class="form-group">
                        <label for="profile-description">Description</label>
                        <textarea id="profile-description" rows="3" placeholder="Brief description of who you are or what you do..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="profile-website">Website (Optional)</label>
                        <input type="url" id="profile-website" placeholder="https://yourwebsite.com">
                    </div>
                </div>

                <div class="setup-step" data-step="3">
                    <h3>Social Links & Contact</h3>
                    <div class="social-links-grid">
                        <div class="form-group">
                            <label for="discord-link"><i class="fab fa-discord"></i> Discord</label>
                            <input type="text" id="discord-link" placeholder="Discord invite or username">
                        </div>
                        <div class="form-group">
                            <label for="instagram-link"><i class="fab fa-instagram"></i> Instagram</label>
                            <input type="text" id="instagram-link" placeholder="@username or full URL">
                        </div>
                        <div class="form-group">
                            <label for="youtube-link"><i class="fab fa-youtube"></i> YouTube</label>
                            <input type="url" id="youtube-link" placeholder="Channel URL">
                        </div>
                        <div class="form-group">
                            <label for="twitter-link"><i class="fab fa-twitter"></i> Twitter</label>
                            <input type="text" id="twitter-link" placeholder="@username or full URL">
                        </div>
                        <div class="form-group">
                            <label for="twitch-link"><i class="fab fa-twitch"></i> Twitch</label>
                            <input type="text" id="twitch-link" placeholder="Channel name or URL">
                        </div>
                        <div class="form-group">
                            <label for="github-link"><i class="fab fa-github"></i> GitHub</label>
                            <input type="text" id="github-link" placeholder="Username or repository URL">
                        </div>
                    </div>
                </div>

                <div class="setup-navigation">
                    <button type="button" id="prev-step" class="btn btn-secondary" style="display: none;">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button type="button" id="next-step" class="btn btn-primary">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                    <button type="submit" id="finish-setup" class="btn btn-primary" style="display: none;">
                        <i class="fas fa-check"></i> Complete Setup
                    </button>
                </div>

                <div class="setup-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" style="inline-size: 33%"></div>
                    </div>
                    <span class="progress-text">Step 1 of 3</span>
                </div>
            </form>
        </div>
    </div>

    <!-- Review Modal -->
    <div id="review-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Write a Review</h2>
            <div id="review-server-info"></div>
            <form id="review-form">
                <div class="form-group">
                    <label for="reviewer-name">Your Name</label>
                    <input type="text" id="reviewer-name" required>
                </div>
                <div class="form-group">
                    <label>Rating</label>
                    <div class="star-rating" id="star-rating">
                        <i class="fas fa-star" data-rating="1"></i>
                        <i class="fas fa-star" data-rating="2"></i>
                        <i class="fas fa-star" data-rating="3"></i>
                        <i class="fas fa-star" data-rating="4"></i>
                        <i class="fas fa-star" data-rating="5"></i>
                    </div>
                </div>
                <div class="form-group">
                    <label for="review-text">Review</label>
                    <textarea id="review-text" rows="4" required placeholder="Share your experience with this server..."></textarea>
                </div>
                <button type="submit" class="btn-primary">Submit Review</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 GuildCertified. Helping you find the best Discord communities.</p>
        </div>
    </footer>

    <script src="js/logger.js"></script>
    <script src="js/config.js"></script>
    <script src="js/localDataManager.js"></script>
    <script src="js/simpleDiscordAuth.js"></script>
    <script src="js/auth-discord.js"></script>
    <script src="js/profileSetup.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/googleSheets.js"></script>
    <script src="js/main.js"></script>
</body>
</html>